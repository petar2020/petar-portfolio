"use strict";(()=>{var e={};e.id=409,e.ids=[409],e.modules={1658:(e,r,t)=>{t.a(e,async(e,n)=>{try{t.r(r),t.d(r,{config:()=>p,default:()=>d,routeModule:()=>c});var o=t(3480),a=t(8667),s=t(6435),i=t(8509),u=e([i]);i=(u.then?(await u)():u)[0];let d=(0,s.M)(i,"default"),p=(0,s.M)(i,"config"),c=new o.PagesAPIRouteModule({definition:{kind:a.A.PAGES_API,page:"/api/contact",pathname:"/api/contact",bundlePath:"",filename:""},userland:i});n()}catch(e){n(e)}})},2971:e=>{e.exports=import("zod")},3480:(e,r,t)=>{e.exports=t(5600)},5600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},6373:e=>{e.exports=import("resend")},6435:(e,r)=>{Object.defineProperty(r,"M",{enumerable:!0,get:function(){return function e(r,t){return t in r?r[t]:"then"in r&&"function"==typeof r.then?r.then(r=>e(r,t)):"function"==typeof r&&"default"===t?r:void 0}}})},8509:(e,r,t)=>{t.a(e,async(e,n)=>{try{t.r(r),t.d(r,{default:()=>i});var o=t(2971),a=t(6373),s=e([o,a]);[o,a]=s.then?(await s)():s;let u=new a.Resend(process.env.RESEND_API_KEY),d=o.z.object({name:o.z.string().min(2).max(100),email:o.z.string().email(),message:o.z.string().min(10).max(1e3)});async function i(e,r){if("POST"!==e.method)return r.status(405).json({error:"Method not allowed"});try{let{name:t,email:n,message:o}=d.parse(e.body),a=process.env.RESEND_FROM||"onboarding@resend.dev",s=process.env.RESEND_TO||"petar.arsic14@hotmail.com",{error:i}=await u.emails.send({from:`Portfolio <${a}>`,to:[s],reply_to:n,subject:`Nova poruka sa sajta â€“ ${t}`,html:`
        <h2>Nova poruka sa kontakt forme</h2>
        <p><strong>Ime:</strong> ${t}</p>
        <p><strong>Email:</strong> ${n}</p>
        <p><strong>Poruka:</strong></p>
        <p>${o.replace(/\n/g,"<br/>")}</p>
      `});if(i)return r.status(500).json({error:"Failed to send email"});return r.status(200).json({success:!0})}catch(e){if(e?.errors)return r.status(400).json({error:"Validation failed",details:e.errors});return r.status(500).json({error:"Internal server error"})}}n()}catch(e){n(e)}})},8667:(e,r)=>{Object.defineProperty(r,"A",{enumerable:!0,get:function(){return t}});var t=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})}};var r=require("../../webpack-api-runtime.js");r.C(e);var t=r(r.s=1658);module.exports=t})();